<div class="d-flex flex-column align-items-center">
  <form >
  <mat-form-field >
    <input type="text" placeholder="Selecione los actores" matInput [formControl]="control" [matAutocomplete]="auto" />
    <mat-autocomplete #auto (optionSelected)="actorSeleccionado($event)">
      @for (actor of actores; track $index) {
        <mat-option [value]="actor">
          <img [src]="actor.foto"  alt="actores"/>
          {{ actor.nombre }}
        </mat-option>
      }
    </mat-autocomplete>
  </mat-form-field>
</form>
@if (actoresSelecionado.length > 0) {
  <table mat-table [dataSource]="actoresSelecionado" class="mt-3" cdkDropList
   [cdkDropListData]="actoresSelecionado" (cdkDropListDropped)="finalizarArrastre($event)">
    <ng-container matColumnDef="imagen">
      <td mat-cell *matCellDef="let actor">
        <img [src]="actor.foto" alt="actor" width="50" />
      </td>
    </ng-container>

    <ng-container matColumnDef="nombre">
      <td mat-cell *matCellDef="let actor"> {{ actor.nombre }} </td>
    </ng-container>

    <ng-container matColumnDef="personaje" >
      <td mat-cell *matCellDef="let actor">
        <mat-form-field appearance="outline" class="margen">
          <mat-label>Personaje</mat-label>
          <input matInput [(ngModel)]="actor.personaje" title="personaje" />    
        </mat-form-field>
      </td>
    </ng-container>
    <ng-container matColumnDef="acciones">
      <td mat-cell *matCellDef="let actor" >
        <mat-icon mat-list (click)="eliminar(actor)" role="button">close</mat-icon>
      </td>
    </ng-container>
    <tr mat-row *matRowDef="let row; columns: columnasAMostrar;" cdkDrag [cdkDragData]="row"></tr>
  </table>

}
</div>