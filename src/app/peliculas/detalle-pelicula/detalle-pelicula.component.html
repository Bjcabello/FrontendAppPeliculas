@if (pelicula) {
  <div>
    <h2 class="text-center">
      {{ pelicula.titulo }} ({{ pelicula.fechaLanzamiento.getFullYear() }})
    </h2>

    <mat-chip-listbox class="d-inline-block mb-1">
      @for (genero of pelicula.generos; track $index) {
        <mat-chip [routerLink]="['/pelicula/filtrar']"
                  [queryParams]="{ generoId: genero.id }">
          {{ genero.nombre }}
        </mat-chip>
      }
    </mat-chip-listbox>
    | {{ pelicula.fechaLanzamiento.toDateString() }} | Promedio: 0.0 | tu voto: 0

    
    <div class="d-flex justify-content-between align-items-center mt-3 mb-3 flex-wrap text-center">
      <div class="flex-fill text-center">
        <img alt=""[src]="pelicula.poster"
             [alt]="pelicula.titulo"
             [style.width.px]="220"
             [style.height.px]="260"
             class="rounded shadow" />
      </div>

      @if (pelicula.trailer) {
        <div class="flex-fill text-center mt-3 mt-md-0">
          <iframe
            [style.width.px]="520"
            [style.height.px]="310"
            [src]="trailerUrl"
            frameborder="0"
            allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
            title="TrÃ¡iler de {{ pelicula.titulo }}">
          </iframe>
        </div>
      }
    </div>
    @if (pelicula.actores) {
      <div class="mt-4">
      <h3>Actores</h3>
      <div class="d-flex flex-wrap gap-2">
        @for (actor of pelicula.actores; track $index) {
          <div class="text-center">
            <img alt="" [src]="actor.foto"
                 [alt]="actor.nombre"
                 [style.width.px]="50"
                 class="imgFoto rounded-circle border shadow-sm">
            <div class="small mt-1">{{ actor.nombre }}</div>
          </div>
        }
      </div>
    </div>
    }
    @if (coordenadas.length > 0) {
      <h2 class="text-center">Mostrando en los siguientes cines</h2>
      <div class="d-flex justify-content-center align-items-center">
        <app-mapa [coordenadaInicial]="coordenadas" [soloLectura]="true"></app-mapa>
      </div>
    }
  </div>
}@else {
  <app-cargando></app-cargando>
}
